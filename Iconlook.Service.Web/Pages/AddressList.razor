@page "/address/list"
@page "/address/list/{category}"
<style type="text/css">
    .card .e-grid .e-content {
        min-height: 760px;
    }

    .e-grid .e-rowcell,
    .e-grid .e-headercell {
        padding-left: 5px !important;
        padding-right: 5px !important;
    }

    .e-grid .e-rowcell:last-child,
    .e-grid .e-headercell:last-child {
        padding-left: 5px !important;
        padding-right: 20px !important;
    }

    .e-grid .e-rowcell:first-child,
    .e-grid .e-headercell:first-child {
        padding-left: 20px !important;
        padding-right: 5px !important;
    }
</style>
<div class="row mb-3 d-none d-md-block">
    <div class="col">
        <div class="card shadow-sm border-bottom-0">
            <div class="container">
                <div class="row text-nowrap">
                    <div class="col d-inline-flex border-right border-bottom">
                        <VotingTile ChainResponse="ChainResponse"></VotingTile>
                    </div>
                    <div class="col d-inline-flex border-right border-bottom">
                        <StakingTile ChainResponse="ChainResponse"></StakingTile>
                    </div>
                    <div class="col d-inline-flex border-right border-bottom">
                        <TreasuryTile ChainResponse="ChainResponse"></TreasuryTile>
                    </div>
                    <div class="col d-inline-flex border-bottom">
                        <BlockTile ChainResponse="ChainResponse"></BlockTile>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--
<div class="row">
    <div class="col-lg mb-3 d-none mr-lg-n4 d-md-block">
        <div class="px-1 p-3 card rounded gradient shadow-sm border-0">
            <div class="d-inline-flex">
                <div class="ml-2 mr-4">
                    <i class="fad fa-info text-white" style="font-size: 41px;"></i>
                </div>
                <div>
                    <div class="d-flex">
                        <a class="text-white font-weight-bold" href="/">VOTE FOR US</a>
                    </div>
                    <div class="pt-1 text-white">we have contributed shit load, vote for us <span class="mono font-weight-bold">now</span></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg mb-3 d-none mr-lg-n4 d-md-block">
        <div class="px-1 p-3 card rounded gradient shadow-sm border-0">
            <div class="d-inline-flex">
                <div class="ml-2 mr-3">
                    <i class="fad fa-circle text-white" style="font-size: 41px;"></i>
                </div>
                <div>
                    <div class="d-flex">
                        <a class="text-white font-weight-bold" href="/">CONTRIBUTION DAO</a>
                    </div>
                    <div class="pt-1 text-white">alternative on-chain radical voting <span class="mono font-weight-bold">proposal</span></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg mb-3 d-none d-md-block">
        <div class="px-1 p-3 card rounded gradient shadow-sm border-0">
            <div class="d-inline-flex">
                <div class="ml-2 mr-3">
                    <i class="fad fa-mobile-alt text-white" style="font-size: 41px;"></i>
                </div>
                <div>
                    <div class="d-flex">
                        <a class="text-white font-weight-bold" href="/">ICONLOOK MOBILE</a>
                    </div>
                    <div class="pt-1 text-white">Android and iOS apps is coming soon <span class="mono font-weight-bold">boys!</span></div>
                </div>
            </div>
        </div>
    </div>
</div>
-->
<div class="row mb-5">
    <div class="col">
        <div class="card shadow-sm" style="min-height: 943px;">
            <SfTab Animation="Animation">
                <TabEvents Selecting="Select"/>
                <TabItems>
                    <TabItem Header="Unstaking">
                        <ContentTemplate>
                            <div class="card-body p-0">
                                <AddressListUnstakingGrid Paging="@Paging" Sorting="@Sorting" PageSize="@PageSize" PageSizes="@PageSizes"></AddressListUnstakingGrid>
                            </div>
                        </ContentTemplate>
                    </TabItem>
                    <TabItem Header="Undelegated">
                        <ContentTemplate>
                            <div class="card-body p-0">
                                <AddressListUndelegatedGrid Paging="@Paging" Sorting="@Sorting" PageSize="@PageSize" PageSizes="@PageSizes"></AddressListUndelegatedGrid>
                            </div>
                        </ContentTemplate>
                    </TabItem>
                </TabItems>
            </SfTab>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public bool Paging { get; set; }

    [Parameter]
    public int PageSize { get; set; }

    [Parameter]
    public bool Sorting { get; set; }

    [Parameter]
    public string Category { get; set; }

    [Parameter]
    public object PageSizes { get; set; }

    protected TabHeader Unstaking;
    protected TabHeader Undelegated;
    protected PeerResponse PeerResponse;
    protected ChainResponse ChainResponse;
    protected TabAnimationSettings Animation;

    public void Select(SelectingEventArgs args)
    {
        if (args.IsSwiped)
        {
            args.Cancel = true;
        }
    }

    protected override void OnInitialized()
    {
        Paging = true;
        PageSize = 20;
        PeerResponse = LocalCache.LastPeerResponse;
        ChainResponse = LocalCache.LastChainResponse;
        PageSizes = new[] { 20, 50, 100, 500, 1000 };
        Unstaking = new TabHeader { Text = "UNSTAKING" };
        Undelegated = new TabHeader { Text = "UNDELEGATED" };
        Animation = new TabAnimationSettings
        {
            Next = new TabAnimationNext { Duration = 0 },
            Previous = new TabAnimationPrevious { Duration = 0 }
        };
    }

}