<EjsGrid RowHeight="40"
         EnableHover="false"
         EnableAltRow="false"
         TValue="PRepResponse"
         AllowSelection="false"
         GridLines="GridLine.Horizontal"
         ModelType="PRepResponse.ModelType"
         Query="new ej.data.Query().addParams('take', '22')">
    <EjsDataManager Url="/api/v1.0/preps" Adaptor="Adaptors.WebApiAdaptor"></EjsDataManager>
    <GridColumns>
        <GridColumn Width="20">
            <Template>
                <i class="fad fs-n1 fa-cube positive-light" style="margin-top: 2px;"></i>
            </Template>
        </GridColumn>
        <GridColumn Width="30" Field="@nameof(PRepResponse.Ranking)" HeaderText="Position">
            <Template>
                @{
                    if (context is PRepResponse prep)
                    {
                        <span class="mono font-weight-bold">@prep.Ranking</span>
                    }
                }
            </Template>
        </GridColumn>
        <GridColumn Width="220" Field="@nameof(PRepResponse.Name)" HeaderText="P-Rep">
            <Template>
                @{
                    if (context is PRepResponse prep)
                    {
                        <div class="d-flex align-items-center" style="margin-top: 1px;">
                            <img width="20" height="20" style="margin-top: -1px; margin-right: 8px;" class="prep-114 rounded-circle" alt="@prep.Name" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAtAQMAAADWcaq8AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAAA1JREFUeNpjYBgF9AAAAWgAAUrs9XsAAAAASUVORK5CYII=">
                            <a class="secondary text-condensed font-weight-semibold" href="address/@prep.Id">@prep.Name</a>
                        </div>
                    }
                }
            </Template>
        </GridColumn>
        <GridColumn Width="45" Field="@nameof(PRepResponse.DelegatedPercentage)" HeaderText="Power" TextAlign="TextAlign.Center">
            <Template>
                @{
                    if (context is PRepResponse prep)
                    {
                        <span class="mono font-weight-bold">@prep.DelegatedPercentage.ToString("P2")</span>
                    }
                }
            </Template>
        </GridColumn>
        <GridColumn Width="125" Field="@nameof(PRepResponse.Votes)" HeaderText="Votes" TextAlign="TextAlign.Right">
            <Template>
                @{
                    if (context is PRepResponse prep)
                    {
                        <span class="mono ls-n2 text-light" style="margin-right: 2px;">@prep.Votes.ToString("N0")</span>
                        <span class="pl-1 fs-n2 text-light font-weight-light">votes</span>
                    }
                }
            </Template>
        </GridColumn>
        <GridColumn Width="65" Field="@nameof(PRepResponse.ProductivityPercentage)" HeaderText="% 24h Chg" TextAlign="TextAlign.Right">
            <Template>
                @{
                    if (context is PRepResponse prep)
                    {
                        if (prep.ProductivityPercentage > 0)
                        {
                            <span class="mono positive-dark">@prep.ProductivityPercentage.ToString("P")</span>
                        }
                        if (prep.ProductivityPercentage <= 0)
                        {
                            <span class="mono negative-dark">@prep.ProductivityPercentage.ToString("P")</span>
                        }
                    }
                }
            </Template>
        </GridColumn>
    </GridColumns>
</EjsGrid>